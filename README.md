1. 決定変数（Decision Variables）
勤務時間変数

ℎ
𝑖
,
𝑡
≥
0
h 
i,t
​
 ≥0
定義: 従業員 
𝑖
i が日付 
𝑡
t に勤務する総労働時間（時間）。
タイプ: 連続変数。
残業時間変数

𝑟
𝑖
,
𝑡
≥
0
r 
i,t
​
 ≥0
定義: 従業員 
𝑖
i が日付 
𝑡
t に行う残業時間（時間）。
タイプ: 連続変数。
月間残業時間合計変数

𝑜
𝑖
,
𝑚
≥
0
o 
i,m
​
 ≥0
定義: 従業員 
𝑖
i が月 
𝑚
m に行う総残業時間（時間）。
タイプ: 連続変数。
月間残業時間超過フラグ

𝑠
𝑖
,
𝑚
∈
{
0
,
1
}
s 
i,m
​
 ∈{0,1}
定義: 従業員 
𝑖
i の月 
𝑚
m における残業時間が45時間を超過したかを示す二値変数。
タイプ: 整数（二値）変数。
連続勤務日数変数

𝑐
𝑖
,
𝑘
≥
0
c 
i,k
​
 ≥0
定義: 従業員 
𝑖
i の連続勤務期間 
𝑘
k における連続勤務日数。
タイプ: 整数変数。
2. パラメータ（Parameters）
生産性パラメータ

𝑝
𝑖
>
0
p 
i
​
 >0
定義: 従業員 
𝑖
i の時間当たりの生産性（生産量/時間）。
タイプ: 正の定数。
年休取得スケジュール

𝑣
𝑖
,
𝑡
∈
{
0
,
1
}
v 
i,t
​
 ∈{0,1}
定義: 従業員 
𝑖
i が日付 
𝑡
t に年休を取得する場合は1、そうでない場合は0をとる外部から与えられるパラメータ。
タイプ: 整数（二値）パラメータ。
従業員数

𝑁
N
定義: 全従業員の総数。
タイプ: 正の整数定数。
期間内の総日数

𝑇
T
定義: 計画期間内の総日数（例：年間の日数）。
タイプ: 正の整数定数。
平日、週末、祝日の集合

Weekdays
Weekdays
定義: 平日の集合。
Weekend
Weekend
定義: 週末の集合。
Holidays
Holidays
定義: 祝日の集合。
Workdays
=
Weekdays
∖
Holidays
Workdays=Weekdays∖Holidays
定義: 勤務可能日の集合。
大きな定数

𝑀
M
定義: 制約条件の線形化に使用する十分に大きな正の定数。
タイプ: 正の定数。
その他の定数

1日あたりの標準労働時間
𝐻
std
=
7.75
H 
std
​
 =7.75（時間）。
1日あたりの最大労働時間
𝐻
max
H 
max
​
 （例：12時間など、会社の規定による）。
1週あたりの標準労働時間
𝐻
week
=
38.75
H 
week
​
 =38.75（時間）。
月間残業時間の上限
𝑂
max
=
45
O 
max
​
 =45（時間）。
年間残業時間の上限
𝑂
annual
=
720
O 
annual
​
 =720（時間）。
45時間超過月の最大回数
𝑀
over
=
6
M 
over
​
 =6。
累積残業時間のマイルストーン制約
例：
𝑂
cumulative
=
400
O 
cumulative
​
 =400（時間、9月終了時点）。
通常労働時間のコスト
𝐶
normal
C 
normal
​
 （円/時間）。
残業時間のコスト
𝐶
overtime
C 
overtime
​
 （円/時間）。
備考: 残業時間には割増賃金が適用される（例：
𝐶
overtime
=
1.25
×
𝐶
normal
C 
overtime
​
 =1.25×C 
normal
​
 ）。
製品の単価（変動する）
𝑆
𝑡
S 
t
​
 （円/生産量単位）
定義: 日付 
𝑡
t における製品の単価。
3. 目的関数
総利益 
𝑃
P を最大化します。製品の単価 
𝑆
𝑡
S 
t
​
  が日によって異なることを考慮します。

収入:

収入
=
∑
𝑡
∈
Workdays
𝑆
𝑡
×
(
∑
𝑖
=
1
𝑁
𝑝
𝑖
×
ℎ
𝑖
,
𝑡
)
収入= 
t∈Workdays
∑
​
 S 
t
​
 ×( 
i=1
∑
N
​
 p 
i
​
 ×h 
i,t
​
 )
労働コスト:

通常労働時間のコスト:

通常コスト
=
𝐶
normal
×
(
∑
𝑖
=
1
𝑁
∑
𝑡
∈
Workdays
(
ℎ
𝑖
,
𝑡
−
𝑟
𝑖
,
𝑡
)
)
通常コスト=C 
normal
​
 × 
​
  
i=1
∑
N
​
  
t∈Workdays
∑
​
 (h 
i,t
​
 −r 
i,t
​
 ) 
​
 
残業時間のコスト:

残業コスト
=
𝐶
overtime
×
(
∑
𝑖
=
1
𝑁
∑
𝑡
∈
Workdays
𝑟
𝑖
,
𝑡
)
残業コスト=C 
overtime
​
 × 
​
  
i=1
∑
N
​
  
t∈Workdays
∑
​
 r 
i,t
​
  
​
 
目的関数:

Maximize
𝑃
=
(
∑
𝑡
∈
Workdays
𝑆
𝑡
×
(
∑
𝑖
=
1
𝑁
𝑝
𝑖
×
ℎ
𝑖
,
𝑡
)
)
−
𝐶
normal
×
(
∑
𝑖
=
1
𝑁
∑
𝑡
∈
Workdays
(
ℎ
𝑖
,
𝑡
−
𝑟
𝑖
,
𝑡
)
)
−
𝐶
overtime
×
(
∑
𝑖
=
1
𝑁
∑
𝑡
∈
Workdays
𝑟
𝑖
,
𝑡
)
MaximizeP= 
​
  
t∈Workdays
∑
​
 S 
t
​
 ×( 
i=1
∑
N
​
 p 
i
​
 ×h 
i,t
​
 ) 
​
 −C 
normal
​
 × 
​
  
i=1
∑
N
​
  
t∈Workdays
∑
​
 (h 
i,t
​
 −r 
i,t
​
 ) 
​
 −C 
overtime
​
 × 
​
  
i=1
∑
N
​
  
t∈Workdays
∑
​
 r 
i,t
​
  
​
 
4. 制約条件
a. 非勤務日の制約

祝日と週末 
𝑡
∈
Holidays
∪
Weekend
t∈Holidays∪Weekend について：

ℎ
𝑖
,
𝑡
=
0
h 
i,t
​
 =0
𝑟
𝑖
,
𝑡
=
0
r 
i,t
​
 =0
b. 年休取得日の制約

年休取得日 
𝑣
𝑖
,
𝑡
=
1
v 
i,t
​
 =1 の場合：

ℎ
𝑖
,
𝑡
=
0
h 
i,t
​
 =0
𝑟
𝑖
,
𝑡
=
0
r 
i,t
​
 =0
c. 勤務時間と残業時間の関係

勤務可能日 
𝑡
∈
Workdays
t∈Workdays について：

勤務時間の定義：

ℎ
𝑖
,
𝑡
=
𝐻
std
×
(
1
−
𝑣
𝑖
,
𝑡
)
+
𝑟
𝑖
,
𝑡
h 
i,t
​
 =H 
std
​
 ×(1−v 
i,t
​
 )+r 
i,t
​
 
残業時間の定義：

𝑟
𝑖
,
𝑡
≥
ℎ
𝑖
,
𝑡
−
𝐻
std
×
(
1
−
𝑣
𝑖
,
𝑡
)
r 
i,t
​
 ≥h 
i,t
​
 −H 
std
​
 ×(1−v 
i,t
​
 )
𝑟
𝑖
,
𝑡
≥
0
r 
i,t
​
 ≥0
d. 労働時間の上限

1日あたりの最大労働時間：

ℎ
𝑖
,
𝑡
≤
𝐻
max
×
(
1
−
𝑣
𝑖
,
𝑡
)
h 
i,t
​
 ≤H 
max
​
 ×(1−v 
i,t
​
 )
1週あたりの労働時間（各週 
𝑤
w について）：

∑
𝑡
∈
Workdays
𝑤
ℎ
𝑖
,
𝑡
≤
𝐻
week
+
∑
𝑡
∈
Workdays
𝑤
𝑟
𝑖
,
𝑡
t∈Workdays 
w
​
 
∑
​
 h 
i,t
​
 ≤H 
​
 + 
t∈Workdays 
w
​
 
∑
​
 r 
i,t
​
 
e. 残業時間の制約

月間残業時間の計算（各月 
𝑚
m について）：

𝑜
𝑖
,
𝑚
=
∑
𝑡
∈
Workdays
𝑚
𝑟
𝑖
,
𝑡
o 
i,m
​
 = 
t∈Workdays 
m
​
 
∑
​
 r 
i,t
​
 
月間残業時間の上限：

𝑜
𝑖
,
𝑚
≤
𝑂
max
o 
i,m
​
 ≤O 
max
​
 
年間残業時間の上限：

∑
𝑚
=
1
12
𝑜
𝑖
,
𝑚
≤
𝑂
annual
m=1
∑
12
​
 o 
i,m
​
 ≤O 
annual
​
 
月間残業時間超過フラグの定義：

𝑜
𝑖
,
𝑚
−
𝑂
max
≤
𝑀
×
𝑠
𝑖
,
𝑚
o 
i,m
​
 −O 
max
​
 ≤M×s 
i,m
​
 
𝑠
𝑖
,
𝑚
∈
{
0
,
1
}
s 
i,m
​
 ∈{0,1}
45時間超過月の年間最大回数：

∑
𝑚
=
1
12
𝑠
𝑖
,
𝑚
≤
𝑀
over
m=1
∑
12
​
 s 
i,m
​
 ≤M 
over
​
 
累積残業時間のマイルストーン制約（例：9月終了時点）：

∑
𝑚
=
1
9
𝑜
𝑖
,
𝑚
≤
𝑂
cumulative
m=1
∑
9
​
 o 
i,m
​
 ≤O 
cumulative
​
 
f. 連続勤務日の制約

連続勤務日数の上限（連続勤務期間 
𝑘
k について）：

𝑐
𝑖
,
𝑘
≤
6
c 
i,k
​
 ≤6
連続勤務期間の定義：

連続勤務期間は、勤務可能日 
𝑡
∈
Workdays
t∈Workdays で 
𝑣
𝑖
,
𝑡
=
0
v 
i,t
​
 =0（年休を取得していない）日が連続する期間。
祝日、週末、年休取得日によって連続勤務期間が区切られます。
